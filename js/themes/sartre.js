// ========================================
// üåÄ TEMA: JEAN-PAUL SARTRE - EL SER HUMANO ES LIBERTAD
// ========================================
// üìö Unidad II: Antropolog√≠a filos√≥fica

const sartreThemeLoadStart = performance.now();

/** Configuraci√≥n del tema de Sartre */
const SARTRE_THEME = {
  id: 'sartre',
  title: 'Jean-Paul Sartre: El ser humano es libertad',
  description: 'Existencia precede esencia, libertad ineludible, angustia, desamparo, desesperaci√≥n, mala fe y autenticidad.',
  icon: 'üåÄ',
  gradient: 'linear-gradient(135deg, #222831 0%, #393e46 50%, #00adb5 100%)',
  difficulty: 'intermedio',
  timeLimit: 30,
  contentFile: 'content/sartre.html',

  metadata: {
    author: 'Cuestionarios de Filosof√≠a',
    version: '1.0',
    lastUpdated: '2025-08-22',
    category: 'Filosof√≠a Contempor√°nea',
    prerequisites: ['antropologia_filosofica'],
    learningObjectives: [
      'Explicar ‚Äúla existencia precede a la esencia‚Äù.',
      'Diferenciar facticidad y trascendencia.',
      'Comprender angustia, desamparo y desesperaci√≥n.',
      'Identificar la mala fe y contraponerla a la autenticidad.',
      'Analizar el papel del Otro y la responsabilidad √©tica.'
    ]
  },

  // ========================== //
  // üß© PREGUNTAS (10 √≠tems)    //
  // ========================== //
  questions: [
    {
      id: 'sartre_001',
      question: '¬øQu√© significa que ‚Äúla existencia precede a la esencia‚Äù?',
      answers: [
        { text: 'Que hay una naturaleza humana fija que determina nuestras acciones.', correct: false, explanation: 'Sartre niega una esencia previa; nos definimos al elegir.' },
        { text: 'Que primero existimos y luego, con nuestras elecciones, nos definimos.', correct: true, explanation: 'Clave existencialista: no hay plan dado; el ser se hace en el actuar.' },
        { text: 'Que la biolog√≠a decide completamente qui√©nes somos.', correct: false, explanation: 'Ser√≠a determinismo biol√≥gico, rechazado por Sartre.' },
        { text: 'Que la sociedad escribe nuestra identidad sin margen de libertad.', correct: false, explanation: 'Sartre subraya la libertad frente a condicionamientos.' },
        { text: 'Que Dios asigna a cada uno su funci√≥n esencial.', correct: false, explanation: 'Sartre niega determinismo teol√≥gico.' }
      ],
      hint: 'Primero existir, luego elegir y, al elegir, ser.',
      difficulty: 'basico',
      topic: 'Existencia vs. esencia'
    },
    {
      id: 'sartre_002',
      question: '‚ÄúEstamos condenados a ser libres‚Äù implica que‚Ä¶',
      answers: [
        { text: 'Podemos evitar elegir si cedemos a las costumbres.', correct: false, explanation: 'No elegir tambi√©n es elegir: no hay salida de la libertad.' },
        { text: 'Solo los actos legales son libres.', correct: false, explanation: 'La libertad no se reduce a legalidad/ilegalidad.' },
        { text: 'Siempre elegimos y somos responsables, incluso cuando decimos ‚Äúno puedo‚Äù.', correct: true, explanation: 'La libertad es ineludible y conlleva responsabilidad.' },
        { text: 'Las circunstancias anulan toda decisi√≥n personal.', correct: false, explanation: 'Las condiciones existen, pero no eliminan la libertad.' },
        { text: 'La libertad depende de la aprobaci√≥n social.', correct: false, explanation: 'No est√° sujeta al reconocimiento de otros.' }
      ],
      hint: 'Incluso la omisi√≥n es una forma de elecci√≥n.',
      difficulty: 'intermedio',
      topic: 'Libertad y responsabilidad'
    },
    {
      id: 'sartre_003',
      question: 'En Sartre, ¬øqu√© es la facticidad?',
      answers: [
        { text: 'El conjunto de condiciones dadas (cuerpo, historia, contexto) sobre las que proyecto mi vida.', correct: true, explanation: 'Facticidad = lo dado; no lo elijo, pero lo asumo y lo trasciendo.' },
        { text: 'La absoluta autonom√≠a sin l√≠mites externos.', correct: false, explanation: 'Eso negar√≠a las condiciones reales de la existencia.' },
        { text: 'La emoci√≥n de angustia ante la libertad.', correct: false, explanation: 'Eso es la angustia, no la facticidad.' },
        { text: 'La imposici√≥n social que elimina toda libertad.', correct: false, explanation: 'Sartre mantiene la libertad pese a lo social.' },
        { text: 'La esencia humana fijada por la raz√≥n.', correct: false, explanation: 'No hay esencia previa.' }
      ],
      hint: 'Piensa en lo que te ‚Äútoca‚Äù de entrada.',
      difficulty: 'basico',
      topic: 'Facticidad vs. proyecto'
    },
    {
      id: 'sartre_004',
      question: '¬øQu√© es la trascendencia (proyecto) en Sartre?',
      answers: [
        { text: 'Negar toda limitaci√≥n f√≠sica.', correct: false, explanation: 'No se trata de negar lo dado, sino de proyectar sobre ello.' },
        { text: 'El plan con el que supero y reinterpreto mi facticidad mediante elecciones.', correct: true, explanation: 'Trascender = proyectar sentidos sobre lo dado.' },
        { text: 'Una vida m√≠stica superior sin relaci√≥n con lo cotidiano.', correct: false, explanation: 'Es un concepto existencial, no m√≠stico.' },
        { text: 'Un mandato social que debo obedecer.', correct: false, explanation: 'El proyecto es m√≠o, no heter√≥nomo.' },
        { text: 'Una emoci√≥n pasajera de optimismo.', correct: false, explanation: 'No es un estado emocional.' }
      ],
      hint: 'Es c√≥mo ‚Äújuego‚Äù las cartas que me tocaron.',
      difficulty: 'intermedio',
      topic: 'Proyecto y elecci√≥n'
    },
    {
      id: 'sartre_005',
      question: 'La angustia en Sartre se entiende mejor como‚Ä¶',
      answers: [
        { text: 'Miedo a un objeto externo peligroso.', correct: false, explanation: 'Eso ser√≠a temor; la angustia es ante mi libertad.' },
        { text: 'Conciencia de mi libertad y de que elijo para m√≠ y propongo un modelo para todos.', correct: true, explanation: 'La angustia revela la responsabilidad radical del elegir.' },
        { text: 'Fobia cl√≠nica sin relaci√≥n con decisiones.', correct: false, explanation: 'No es un diagn√≥stico cl√≠nico aqu√≠.' },
        { text: 'Culpa religiosa por haber pecado.', correct: false, explanation: 'Sartre no se apoya en categor√≠as religiosas.' },
        { text: 'Tristeza por el pasado que no vuelve.', correct: false, explanation: 'Es un fen√≥meno √©tico-existencial, no melanc√≥lico.' }
      ],
      hint: 'No es miedo a algo; es v√©rtigo de elegir.',
      difficulty: 'intermedio',
      topic: 'Angustia'
    },
    {
      id: 'sartre_006',
      question: 'El ‚Äúdesamparo‚Äù (abandono) significa que‚Ä¶',
      answers: [
        { text: 'Existen valores dados por Dios que solo debo obedecer.', correct: false, explanation: 'Sartre niega un fundamento externo garantizado.' },
        { text: 'No hay manual externo definitivo; debemos crear valores con nuestras elecciones.', correct: true, explanation: 'Elegir es instituir valor en un mundo sin garant√≠as.' },
        { text: 'Nada tiene valor posible en ninguna circunstancia.', correct: false, explanation: 'No es nihilismo; el valor se crea en el actuar.' },
        { text: 'Todo est√° determinado por la biolog√≠a.', correct: false, explanation: 'Rechaza determinismos absolutos.' },
        { text: 'La moral es solo obediencia a la ley.', correct: false, explanation: 'La √©tica existencial apela a la decisi√≥n responsable.' }
      ],
      hint: 'Sin ‚Äútabla‚Äù externa, ¬øqui√©n decide?',
      difficulty: 'basico',
      topic: 'Desamparo'
    },
    {
      id: 'sartre_007',
      question: '‚ÄúDesesperaci√≥n‚Äù en Sartre invita a‚Ä¶',
      answers: [
        { text: 'Renunciar a actuar por falta de garant√≠as.', correct: false, explanation: 'No propone inacci√≥n, sino responsabilidad realista.' },
        { text: 'Actuar solo con lo que depende de m√≠, sin confiarlo todo a factores externos.', correct: true, explanation: 'Limitarse a los medios que est√°n bajo mi control.' },
        { text: 'Esperar siempre resultados perfectos.', correct: false, explanation: 'No hay promesa de √©xito; hay acci√≥n responsable.' },
        { text: 'Apelar a milagros para completar mis proyectos.', correct: false, explanation: 'La apuesta es por la acci√≥n, no por milagros.' },
        { text: 'Dejar las decisiones en manos de expertos.', correct: false, explanation: 'La decisi√≥n es indelegable.' }
      ],
      hint: 'Control vs. incontrolable.',
      difficulty: 'intermedio',
      topic: 'Desesperaci√≥n'
    },
    {
      id: 'sartre_008',
      question: 'La ‚Äúmala fe‚Äù consiste en‚Ä¶',
      answers: [
        { text: 'Exagerar la libertad propia para dominar a otros.', correct: false, explanation: 'No trata de dominaci√≥n, sino de autoenga√±o.' },
        { text: 'Autoenga√±arme para negar mi libertad y evadir responsabilidad.', correct: true, explanation: 'Ej.: ‚Äúno tuve opci√≥n‚Äù, ‚Äúsolo soy mi rol‚Äù.' },
        { text: 'Actuar ilegalmente a sabiendas.', correct: false, explanation: 'No es un t√©rmino jur√≠dico.' },
        { text: 'Sentir angustia ante una decisi√≥n dif√≠cil.', correct: false, explanation: 'La angustia es l√∫cida; la mala fe la tapa.' },
        { text: 'Aceptar mis l√≠mites sin culpa.', correct: false, explanation: 'Aceptar l√≠mites puede ser aut√©ntico, no mala fe.' }
      ],
      hint: 'Excusas que me convierten en cosa.',
      difficulty: 'basico',
      topic: 'Mala fe'
    },
    {
      id: 'sartre_009',
      question: 'La ‚Äúautenticidad‚Äù implica‚Ä¶',
      answers: [
        { text: 'Cumplir reglas sin cuestionarlas.', correct: false, explanation: 'Eso puede ser heteronom√≠a, no autenticidad.' },
        { text: 'Asumir mi libertad y responsabilidad, sosteniendo mi proyecto sin excusas.', correct: true, explanation: 'Autenticidad = hacerse cargo del elegir.' },
        { text: 'Decidir siempre en contra de la sociedad.', correct: false, explanation: 'No es rebeld√≠a autom√°tica: es decisi√≥n propia.' },
        { text: 'Negar toda influencia del pasado.', correct: false, explanation: 'Se integra la facticidad; no se niega.' },
        { text: 'Buscar solo el reconocimiento de los otros.', correct: false, explanation: 'La mirada importa, pero no define mi proyecto.' }
      ],
      hint: 'Lo opuesto al autoenga√±o.',
      difficulty: 'intermedio',
      topic: 'Autenticidad'
    },
    {
      id: 'sartre_010',
      question: 'En el ‚Äúcaso del estudiante‚Äù, Sartre sugiere que‚Ä¶',
      answers: [
        { text: 'Existe una f√≥rmula universal que resuelve todo dilema.', correct: false, explanation: 'No hay receta segura; debo decidir.' },
        { text: 'La ciencia puede calcular la mejor opci√≥n moral.', correct: false, explanation: 'La decisi√≥n es existencial, no t√©cnica.' },
        { text: 'Debo elegir y, al hacerlo, crear valor y cargar con las consecuencias.', correct: true, explanation: 'La elecci√≥n me constituye y propone un ejemplo para otros.' },
        { text: 'La tradici√≥n religiosa decide por m√≠.', correct: false, explanation: 'Rechaza determinismos teol√≥gicos.' },
        { text: 'Lo correcto es lo que hace la mayor√≠a.', correct: false, explanation: 'No hay garant√≠a en el n√∫mero.' }
      ],
      hint: 'Elegir me define.',
      difficulty: 'intermedio',
      topic: '√âtica existencial'
    }
  ],

  // Estad√≠sticas
  stats: {
    totalQuestions: 10,
    estimatedTime: 10,
    difficultyBreakdown: { basico: 4, intermedio: 6, avanzado: 0 },
    topicBreakdown: {
      'Existencia vs. esencia': 1,
      'Libertad y responsabilidad': 1,
      'Facticidad vs. proyecto': 2,
      'Angustia': 1,
      'Desamparo': 1,
      'Desesperaci√≥n': 1,
      'Mala fe': 1,
      'Autenticidad': 1,
      '√âtica existencial': 1
    }
  }
};

// ===============================
// üîß VALIDACI√ìN DEL TEMA (JS)
// ===============================
function validateSartreTheme() {
  console.log('üîç Validando estructura del tema de Sartre...');
  const required = ['id', 'title', 'questions'];
  const missing = required.filter(f => !SARTRE_THEME[f]);
  if (missing.length) {
    console.error(`‚ùå Faltan campos requeridos: ${missing.join(', ')}`);
    return false;
  }
  const bad = SARTRE_THEME.questions.filter((q, i) => {
    if (!q.id || !q.question || !q.answers || !q.hint) {
      console.error(`‚ùå Pregunta ${i + 1} inv√°lida: faltan campos`);
      return true;
    }
    if (q.answers.length !== 5) {
      console.error(`‚ùå Pregunta ${i + 1}: debe tener exactamente 5 respuestas`);
      return true;
    }
    const ok = q.answers.filter(a => a.correct === true);
    if (ok.length !== 1) {
      console.error(`‚ùå Pregunta ${i + 1}: debe haber exactamente 1 respuesta correcta`);
      return true;
    }
    return false;
  });
  if (bad.length) {
    console.error(`‚ùå ${bad.length} preguntas inv√°lidas encontradas`);
    return false;
  }
  console.log('‚úÖ Tema de Sartre validado correctamente');
  return true;
}

function getSartreThemeStats() {
  return {
    ...SARTRE_THEME.stats,
    validationPassed: validateSartreTheme(),
    loadTime: performance.now() - sartreThemeLoadStart
  };
}

// ===============================
// üöÄ INICIALIZACI√ìN
// ===============================
if (!validateSartreTheme()) {
  console.error('‚ùå Error al cargar el tema de Sartre');
  throw new Error('Tema de Sartre inv√°lido');
}

const sartreThemeLoadEnd = performance.now();
console.log(`‚úÖ Tema de Sartre cargado en ${(sartreThemeLoadEnd - sartreThemeLoadStart).toFixed(2)}ms`);
console.log(`üìä ${SARTRE_THEME.questions.length} preguntas, ${SARTRE_THEME.stats.estimatedTime} min estimados`);

if (typeof window !== 'undefined') {
  window.SARTRE_THEME = SARTRE_THEME;
  console.log('üåê Tema de Sartre disponible globalmente');
}
